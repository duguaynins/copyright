<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" sizes="48x48" href="data:image/x-icon;base64,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">
    <!--link rel="icon" type="image/x-icon" sizes="48x48" href="https://duguaynins-allninsone.hf.space/favicon.ico"-->
    <!--link rel="icon" type="image/png" sizes="48x48" href="/favicon.png"-->
    <!--link rel="shortcut icon" href="/favicon.ico"-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <title translate="no">nins/decoding</title>
    <!--title translate="no">Real-time Decode</title-->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@zxing/library@0.19.1/umd/index.min.js"></script>
    
    <style>
    input, textarea, button, select {
      /*font-size: inherit; /* 主動繼承 body 字體大小 */
      font-size: 18px;
    }
    html, body { font-size: 14px; }
    html, body {
      text-align: center;
      background-color: #000000;
      color: #ffffff;
    }
    #NINS {
        padding: 10px;            邊框內留白（可選） 
    }
    #Container {
        border: 2px solid #ffffff;  黑色邊框、寬度 2px 
        /*border-radius: 8px;      圓角（可選） */
        background-color: #ffffff; /* 白底讓 QR 更清楚（建議） */
        padding: 10px;            邊框內留白（可選） 
        /*width: 200px;            固定寬度（可選） */
        /*height: auto; */
    }
    </style>

  <style>
    @keyframes fadeGradient {
      from {
        background: linear-gradient(white, white);
      }
      to {
        background: linear-gradient(white, transparent);
      }
    }
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
  </style>
</head>
<body>
    <div id="google_translate_element" style="display:none;"></div>
  
    
    <button disabled="" id="disabled" style="
      position: fixed;
      bottom: 0;
      top: 0; /* 距離頂部 0 */
      left: 0; /* 距離左側 0 */
      right: 0; /* 距離右側 0 */
      width: 100%;
      height: 100%;
      border: none;
      padding: 0;
      margin: 0;
      /*opacity: 0;  /*不透明度*/
      /*background: transparent;  /*不透明度？*/
      cursor: default;
      z-index: 99999;  /* 確保在最高層 */
      /*background: linear-gradient(white, transparent);*/
      background: white;
      animation: fadeOut 3s forwards;
      pointer-events: none;  /* 動畫期間不阻擋互動（可選）*/
    "></button>
      
    <div style="
      position: fixed;
      bottom: 0;
      top: 0; /* 距離頂部 0 */
      left: 0; /* 距離左側 0 */
      right: 0; /* 距離右側 0 */
      width: 100%;
      background: #777777;
      background: #FF3B00;
      background: white;
      color: white;
      text-align: center;
      /*padding: 10px;*/
      box-sizing: border-box;
      word-break: break-word;
      z-index: 10000;
      
      display: flex;
      flex-direction: column;
    ">
          <div style="background: #FFFFFF; color: black;" translate="no">
          <div style="margin: 10px;" onclick="document.getElementById('DialogShare').showModal()">
          DECODING
          </div>
          </div>
          <div id="contentbox" style="border:1px solid #ccc; overflow:auto; width:100%; flex:1;">
          
              <div id="Container" style="background:white; color:black;">
          
                  <div id="result-display"  style="width:100%;">
                      <p id="status-message">Scanning stopped.</p>
                      <p id="scan-result"></p>
                      <!--pre id="post-result"></pre-->
                  </div>
                  
                  <div id="scanner-container"  >
                      <video id="video-preview" autoplay="" muted="" playsinline="" style="width:100%;"></video>
                      <div id="scan-line"></div>
                  </div>
          
                  <div style="display:none;" class="button-container">
                      <button id="startButton" class="scan-button" >Start Scan</button>
                      <button id="stopButton" class="scan-button stop-button" disabled="">Stop Scan</button>
                  </div>
          
                  <div style="display:none;" id="messageBox" class="message-box" role="alert" aria-live="assertive" aria-hidden="true">
                      <p id="messageText"></p>
                      <button id="closeMessageBox" aria-label="Close message box" style="display:none;">OK</button>
                  </div>
          
                  <div style="display:none;" id="result-display">
                      <!--p id="status-message">Scanning stopped.</p-->
                      <!--p id="scan-result"></p-->
                      <pre id="post-result"></pre>
                  </div>
          
              </div>
          
          </div>
          <!--strong></strong-->
          <div style="background: #FF3B00; color: white;" translate="yes">
          <div style="margin: 10px;" onclick="document.getElementById('DialogTool').showModal()">
          By using any of the services, it means you have agreed to any content and all content!
          </div></div>
    </div>
  
  
<script>
    function text2html(html) {
        // 偵測網址
        html = html.replace(
        /(https?:\/\/[^\s]+)/g,
        '<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>'
        );

        // 偵測Email
        html = html.replace(
        /([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,
        '<a href="mailto:$1">$1</a>'
        );

        // 偵測電話號碼（簡單版本）
        html = html.replace(
        /(\+?\d{1,4}[-.\s]?\(?\d{2,4}\)?[-.\s]?\d{3,4}[-.\s]?\d{3,4})/g,
        '<a href="tel:$1">$1</a>'
        );
        return html;
    }
</script>
<script>
    // 字體***根據視窗大小自動****
    function updateWindowSize() {
        ///document.getElementById("fontSlider").value = window.innerWidth / 66;  //44
        document.getElementById("width").textContent = window.innerWidth;
        document.getElementById("height").textContent = window.innerHeight;
        // 特殊套用**
        const size = document.getElementById("fontSlider").value;
        document.body.style.fontSize = `${size}px`;
        const resize = parseInt(size) + 6;
        //document.getElementById("InputRoom").style.fontSize = `${resize}px`;
        //document.getElementById("ButtonRoom").style.fontSize = `${resize}px`;
        //document.getElementById("InputMsg").style.fontSize = `${resize}px`;
        //document.getElementById("ButtonMsg").style.fontSize = `${resize}px`;
        document.getElementById("Container").style.padding = (window.innerWidth / 66) + "px";  //QR
        ///document.getElementById("NINS").style.padding = (window.innerWidth / 66) + "px";  //QR
    }
    
    ///window.addEventListener('resize', () => {});
    window.addEventListener("resize", updateWindowSize);  // 視窗持續監聽
</script>
<script>
    const videoPreview = document.getElementById('video-preview');
    const statusMessage = document.getElementById('status-message');
    const scanResult = document.getElementById('scan-result');
    const postResult = document.getElementById('post-result');
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');
    const messageBox = document.getElementById('messageBox');
    const messageText = document.getElementById('messageText');
    const closeMessageBox = document.getElementById('closeMessageBox');

    let codeReader = null;
    let activeStream = null;
    let selectedDeviceId = null;
    let videoInputDevices = [];

    function showMessageBox(message) {
        messageText.innerText = message;
        messageBox.style.display = 'block';
        messageBox.setAttribute('aria-hidden', 'false');
    }

    function hideMessageBox() {
        messageBox.style.display = 'none';
        messageBox.setAttribute('aria-hidden', 'true');
    }

    closeMessageBox.addEventListener('click', () => {
        hideMessageBox();
    });

    function delay(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function sendPost(payload) {
      // 1. 從網址取得參數
  
      // 2. 準備要送出的資料
  
      // 3. 發送 POST 請求
      const response = await fetch('/anycode', {  // /api/post
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });
  
      // 4. 處理回應
      ///const data = await response.json();
      const data = await response.text();
      return data;
      
      // 5. 顯示回應
      ///document.getElementById('result').textContent = JSON.stringify(data, null, 2);
    }





    async function enumerateVideoDevices() {
        try {
            const devices = await navigator.mediaDevices.enumerateDevices();
            videoInputDevices = devices.filter(device => device.kind === 'videoinput');
            if (videoInputDevices.length === 0) {
                showMessageBox('沒有找到可用的攝影機設備。');
                startButton.disabled = true;
                stopButton.disabled = true;
                return;
            }
            // 優先找後鏡頭（名稱含 back 或 rear）
            const backCamera = videoInputDevices.find(device =>
                device.label.toLowerCase().includes('back') ||
                device.label.toLowerCase().includes('rear')
            );
            selectedDeviceId = backCamera ? backCamera.deviceId : videoInputDevices[0].deviceId;
        } catch (err) {
            showMessageBox('無法取得攝影機裝置，請確認瀏覽器權限設定。');
            startButton.disabled = true;
            stopButton.disabled = true;
        }
    }

    async function startScanning() {
        startButton.disabled = true;
        stopButton.disabled = false;

        if (!codeReader) {
            codeReader = new ZXing.BrowserMultiFormatReader();
        }

        if (activeStream) {
            // 停止之前串流
            activeStream.getTracks().forEach(track => track.stop());
            activeStream = null;
        }

        selectedDeviceId = null; // 每次都強制選擇，不使用舊的 deviceId

        ///if (!selectedDeviceId) {
        if (false) {
            await enumerateVideoDevices();
            if (!selectedDeviceId) {
                ///showMessageBox('找不到：selectedDeviceId');
                ///statusMessage.innerText = '找不到設備。';
                statusMessage.innerText = 'Device not found.';
                return;
            }
        }

        ///statusMessage.innerText = '正在啟動攝影機';
        statusMessage.innerText = 'Starting the camera~';
        scanResult.innerText = '';

        try {
            await codeReader.decodeFromVideoDevice(
                null,                // ← 傳 null 表示「不指定設備」，強制每次詢問使用者
                ///selectedDeviceId, // ← 傳 null 表示「不指定設備」，強制每次詢問使用者
                
                videoPreview,
                async (result, err) => {   // <-- 這裡改成 async 函式，取消將無法運行。
                    ///if (!result) {statusMessage.innerText = '運行中';}
                    if (!result) {statusMessage.innerText = 'Running~';}
                    if (result) {
                        const html = text2html(result.text)
                        scanResult.innerHTML = html;
                        ///statusMessage.innerText = '已偵測到條碼／QR Code！';
                        statusMessage.innerText = 'Barcode/QR Code detected!';
                        statusMessage.innerText = result.format;  // types
                        ///statusMessage.innerText = result.barcodeFormat;  // types
                        
                        // 掃描到結果後，可選擇停止掃描，這邊示範停止
                        ///stopScanning();
                        
                        // 掃描到結果後，傳送結果並處理
                        const params = new URLSearchParams(window.location.search);
                        const store_id = params.get("store_id") || "";
                        const codes_id = result.text
                        
                        const payload = {
                          action: "post_test",
                          store_id: store_id,
                          codes_id: codes_id
                        };
                        const data = await sendPost(payload);
                        console.log("開始等待...");
                        await delay(2000);  // 等待 2 秒
                        console.log("2 秒後繼續執行");
                        ///postResult.textContent = JSON.stringify(data, null, 2);
                        scanResult.innerHTML = "▼"+ html +"▼";
                        postResult.textContent = data;
                    }
                    if (err && !(err instanceof ZXing.NotFoundException)) {
                        console.error(err);
                        ///statusMessage.innerText = '掃描錯誤：' + err;
                        statusMessage.innerText = 'ERROR: ' + err;
                    }
                }
            );
            // 取得串流，用於停止
            activeStream = videoPreview.srcObject;
            ///startButton.disabled = true;
            ///stopButton.disabled = false;
        } catch (e) {
            showMessageBox('啟動攝影機失敗，請確認權限及裝置是否可用。');
            ///statusMessage.innerText = '啟動攝影機失敗。';
            statusMessage.innerText = 'ALARM: ' + e;
        }
    }

    function stopScanning() {
        if (codeReader) {
            codeReader.reset();
        }
        if (activeStream) {
            activeStream.getTracks().forEach(track => track.stop());
            activeStream = null;
        }
        ///statusMessage.innerText = '掃描已停止。';
        statusMessage.innerText = 'Ending.';
        startButton.disabled = false;
        stopButton.disabled = true;
    }

    startButton.addEventListener('click', () => {
        startScanning();
    });

    stopButton.addEventListener('click', () => {
        stopScanning();
        scanResult.innerText = '';
    });

    // 頁面載入時先嘗試列出裝置（預選後鏡頭）並自動開啟
    window.addEventListener('load', async () => {
        ///await enumerateVideoDevices();
        await startScanning();
    });
</script>
</body>
</html>
