







<!DOCTYPE html>
<html lang="en">
<head translate="yes">
  <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" sizes="48x48" href="data:image/x-icon;base64,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">
    <!--link rel="icon" type="image/x-icon" sizes="48x48" href="https://duguaynins-allninsone.hf.space/favicon.ico"-->
    <!--link rel="icon" type="image/png" sizes="48x48" href="/favicon.png"-->
    <!--link rel="shortcut icon" href="/favicon.ico"-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="description" content="Â© 2024 NINS (by JPGT). By using any of the services, it means you have agreed to any content and all content!">
    <link rel="canonical" href="https://copyright.nins.cc/">
    <title translate="no">nins/deurl</title>
    <style>
      #content {
        user-select: none;
      }
      #content {
          display: flex;
          flex-direction: column;
          justify-content: center;  /* å‚ç›´ç½®ä¸­ */
          align-items: center;      /* æ°´å¹³ç½®ä¸­ */
          text-align: center;       /* æ–‡å­—ç½®ä¸­ */
      }
      .fat { padding: 8px; }
    </style>
    <!--style>
        .skiptranslate {
          display: none !important;   /* é¿å… display:none å½±éŸ¿å…§å®¹é¡¯ç¤º */
          position: static !important;   /* é˜²æ­¢ä½ç½®ç•°å¸¸ */
          width: 0px !important;
          height: 0px !important;
          margin: 0 !important;
          padding: 0 !important;
          border: none !important;
          background: none !important;
          /*font-size: inherit !important;*/
        }
        iframe {
          display: none !important;
        }
    </style-->
    <style>
    </style>
  
<style></style>
<!--link rel="stylesheet" href="https://copyright.nins.cc/children/0001/nins-zzz.css"!-->

</head>
<body>

<!-- NINS ================================================== -->
<script src="https://copyright.nins.cc/children/0001/nins-update.js"></script>
<script src="https://copyright.nins.cc/children/0001/nins-world.js"></script>
<!--script src="https://copyright.nins.cc/children/0001/nins-ads.js"></script!-->
<script src="https://copyright.nins.cc/children/0001/nins-abc.js"></script>
    
    
    
    <div style="
      position: fixed;
      bottom: 0;
      top: 0; /* è·é›¢é ‚éƒ¨ 0 */
      left: 0; /* è·é›¢å·¦å´ 0 */
      right: 0; /* è·é›¢å³å´ 0 */
      background: #777777;
      background: #FF3B00;
      background: white;
      color: white;
      text-align: center;
      /*padding: 10px;*/
      box-sizing: border-box;
      word-break: break-word;
      z-index: 9998;
      
      display: flex;
      flex-direction: column;
    ">
          <strong id="anything" style="background-color: black; color: white; font-size: max(1vh,1vw);"><b translate="no">Â© nins. </b>Check a linkâ€™s destination here first, and donâ€™t walk straight through the door into trouble.</strong>
          <div id="title" style="" translate="no">
          <div style="margin: 10px;" onclick="document.getElementById('DialogCheck').showModal();console.log(new Date().toLocaleString(), 'ğŸ™‰');">
          nins/deurl
          </div></div>
          
<!-- æ”¾ç½®ä½ åŸæœ‰çš„å¸ƒå±€ -->
<button type="button" class="main use fat" onclick="document.getElementById('input_qr').click();">ğŸ–¼ï¸<p translate="no" style="margin: 0; padding: 0; font-size: 1vh;" class="label">image</p></button>
<input type="file" id="input_qr" style="display: none;" accept="image/*">
<canvas id="canvas_qr" style="display:none;"></canvas>

<div id="content" style="background: #CCCCCC; overflow:auto; width:100%; flex:1; border: 1px solid #ccc; color: black;">
<p style="color: gray;">or select a QR image.ğŸ–¼ï¸ğŸ–¼ï¸ğŸ–¼ï¸</p>
<p>The final HTTPS destination after decoding will be displayed here.</p>
<p style="color: green;">Please enter the URL and send it.ğŸš€ğŸš€ğŸš€</p>
</div>

<div id="url-slider" style="
    display: flex;
    flex-direction: row;         /* æ°´å¹³æ’åˆ— */
    justify-content: flex-start; /* å·¦å°é½Š */
    align-items: center;         /* å‚ç›´ç½®ä¸­ */
    overflow-x: auto;            /* å¯æ°´å¹³æ»¾å‹• */
    overflow-y: hidden;          /* ä¸éœ€è¦å‚ç›´æ»¾å‹• */
    gap: 10px;                   /* æŒ‰éˆ•é–“è· */
    padding: 10px;
    white-space: nowrap;         /* é˜²æ­¢æ›è¡Œ */
    background: #eee;
    color: black;
" translate="no">
    <a href="https://docs.google.com/forms/d/e/1FAIpQLScJ6WXtrF1sKVNKEbpQvsm77ZAi3qr6fHKQfpdZTjttSIioPA/viewform" target="_blank" rel="noopener noreferrer" class="use main day"
        style="
        flex: 0 0 auto;
        padding: 8px 12px;
        border: 1px solid #000;
        border-radius: 999px;
        text-decoration: none;
        cursor: pointer;
        white-space: nowrap;
        ">
        ğŸ“œ
    </a>
    
    <!--button class="use main day"
        onclick="document.getElementById('DialogMath').showModal();"
        style="
        margin-left: auto;
        flex: 0 0 auto;
        padding: 8px 12px;
        border: 1px solid #000;
        border-radius: 999px;
        text-decoration: none;
        cursor: pointer;
        white-space: nowrap;
        ">
        ğŸ”¢
    </button!-->
</div>
<div class="input-btn-wrapper" style="display: flex; align-items: stretch; width:100%; text-align: center;">
  <!--button type="button" class="main " translate="no" onclick="document.getElementById('input_msg').value='https://';">ğŸ’¡<p style="margin: 0; padding: 0; font-size: 1vh;" class="label">https://</p></button!-->
  <button type="button" class="main use fat" translate="no" onclick="send()">ğŸš€<p translate="no" style="margin: 0; padding: 0; font-size: 1vh;" class="label">enter</p></button>
  <input id="input_msg" class="main use fat" type="text" name="url" autocomplete="off" placeholder="After entering the URL, please press Enter!" style="flex: 1;" list="list_msg"/>
  <datalist id="list_msg_vt">
      <option value="https://google.com/">
      <option value="https://www.fclnews.com/">
      <!--option value="https://cc.conins.org"!-->
      <option value="https://bump.oen.tw/">
      <option value="https://dumbmoney.tw/">
      <option value="https://bit.ly/4dYnhfP">
      <option value="https://ctbc.tw/0DIoEU">
      <option value="https://ctbc.tw/bsYlnz">
      <option value="https://ctbc.tw/rukJKu">
  </datalist>
  <button type="button" class="main use fat" translate="no" onclick="send()">ğŸš€<p translate="no" style="margin: 0; padding: 0; font-size: 1vh;" class="label">enter</p></button>
</div>

<button id="input_msgbtn" style="display:none" onclick="send()">Send and Recv</button>

<!-- æ”¾ç½®ä½ åŸæœ‰çš„å¸ƒå±€ -->
            
          <!--strong></strong-->
          <div id="notice" style="background: #FF3B00; color: white;" translate="yes">
          <div style="margin: 10px;" onclick="document.getElementById('DialogTrans').showModal()">
          By sending a message to this service, it means you have agreed to any content and all content!
          </div></div>
          <strong id="copyright" style="background-color: black; color: white; font-size: max(1vh,1vw);" translate="no">Â© 2024 NINS (by JPGT).</strong>
    </div>
  
  <dialog id="DialogTrans" translate="no">
      <div id="google_translate_element" style="display:block;"></div><br>      
      <button id="openLog" style="width: 100%;" onclick="document.getElementById('DialogTrans').close();console.log(new Date().toLocaleString(), 'ğŸ™ˆ');">â†©ï¸</button>
  </dialog>
    
  <dialog id="DialogCheck" translate="no">
      <pre id="logOutput" style="max-height:200px; overflow:auto; margin:0;"></pre><br>
      <button id="openLog" style="width: 100%;" onclick="document.getElementById('DialogCheck').close();console.log(new Date().toLocaleString(), 'ğŸ™ˆ');">â†©ï¸</button>
  </dialog>
  
  <dialog id="DialogMath" translate="no" style="height: 90vh; overflow: hidden;">
      <iframe src="https://copyright.nins.cc/children/2025/xy" style="width: 100%; height: 100%; border: none;"></iframe>
  </dialog>

<!-- HTML ================================================== -->
    
<!-- æ”¾ç½®ä½ åŸæœ‰çš„å¸ƒå±€ -->
<script>
const urls = [
  "https://",
  "https://google.com/",
  "https://www.fclnews.com/",
  "https://bump.oen.tw/",
  "https://dumbmoney.tw/",
  "https://bit.ly/4dYnhfP",
  "https://ctbc.tw/0DIoEU",
  "https://ctbc.tw/bsYlnz",
  "https://ctbc.tw/rukJKu",
  "https://pse.is/7s3wr8",
  "https://t.me/",
];

const container = document.getElementById('url-slider');

urls.forEach(url => {
  const btn = document.createElement('button');
  btn.textContent = url;
  btn.style.flex = "0 0 auto";
  btn.style.padding = "8px 12px";
  btn.style.border = "1px solid #000"; // é‚Šæ¡†ç·š
  btn.style.borderRadius = "999px";       // å·¦å³åœ“å½¢  ///4px
  ///btn.style.background = "#fff";       // èƒŒæ™¯è‰²
  btn.style.cursor = "pointer";
  btn.style.whiteSpace = "nowrap";
  btn.className = "use";  // åŠ ä¸Š class
  
  ///btn.onclick = () => window.open(url, "_blank"); // é»æ“Šæ‰“é–‹æ–°åˆ†é 
  btn.onclick = () => {
    document.getElementById('input_msg').value = url;  // å¦‚æœè¦æ›è¡Œå¯ä»¥ç”¨ "\n"
  };
  container.appendChild(btn);
});

container.insertAdjacentHTML('beforeend', `
    <button class="use main day"
        onclick="document.getElementById('DialogMath').showModal();"
        style="
        margin-left: auto;
        flex: 0 0 auto;
        padding: 8px 12px;
        border: 1px solid #000;
        border-radius: 999px;
        text-decoration: none;
        cursor: pointer;
        white-space: nowrap;
        ">
        ğŸ”¢
    </button>
`);
</script>


<script>
/*
async function HuggingFaceAPI(dir="duguaynins/RedirectAPI", path="/textMining/predict", data="Hello!!") {
  ///const client = await Client.connect("duguaynins/TextMining");
  const client = await Client.connect(dir);
  const result = await client.predict(path, { inputs: data });
  console.log(result);
  console.log(result.data);
  return result.data;
}   */

async function HuggingFaceAPI(inputs=null) {
  // 20251205
  try {
    console.log(inputs);
    const { group, space, path, payload } = inputs;
    const baseUrl = `https://${group}-${space}.hf.space/${path}`;  ///"https://duguaynins-RedirectAPI.hf.space/path";

    const response = await fetch(baseUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });

    const data = await response.json();
    console.log(data);
    return data;
  
  } catch (err) {
    console.error(err);
    ///return "error";
    ///return "Server? Wake up!";
    ///return "Server? Cheer up a bit!";
    ///return "Server? Together!";
    ///return {result: {confidences: null, label: '<b translate="no">'+escapeHtml(err.stack)+'</b>' }};  ///err.name+err.message
    return {result: {confidences: null, label: `<a translate="no" href="mailto:duguaynins@gmail.com?subject=${encodeURIComponent( new Date().toISOString() )}&body=${encodeURIComponent( err.stack )}">mailto:duguaynins@gmail.com</a>` }};  ///escapeHtml(err.stack)
  }
}

async function deurl(params) { 
  console.log('USER:', params);
  const { url } = params;
  if (!url) { document.getElementById("input_msg").value = "https://2025.deurl.nins.cc/"; return "???"; }

  const inputs = { "inputs": url };
  const outputs = await HuggingFaceAPI({
    group: "duguaynins",
    space: "RedirectAPI",
    path: "decode/url",  ///embeddings/meta
    payload: inputs,
  }); 

  console.log("INPUT:", inputs);
  console.log("OUTPUT:", outputs);
  return outputs.result;
}

let stopFlag = null;
let okFlag = false;

async function send() {
    ///document.getElementById("input_qr").disabled = true;
    ///document.getElementById("input_msg").disabled = true;
    ///stopFlag = true;
    document.getElementById("input_msg").value =  document.getElementById("input_msg").value.trim();
    document.getElementById("content").innerHTML = "Waiting for decoding...";

    const url = document.getElementById("input_msg").value;
    console.log("RAW:", JSON.stringify(url));

    if (!url.startsWith("http")) { 
      document.getElementById("content").innerHTML = `
      <p translate="no" style="color: red;">[${url}]</p>
      <p>Invalid URL format!!! Refer to available formats.</p>
      <p translate="no" style="color: blue;">[${"https://google.com/"}]</p>
      `;
      ///stopFlag = false;
      return; 
    }

    stopFlag = true;

    document.getElementById("input_qr").disabled = true;
    document.getElementById("input_msg").disabled = true;
    document.querySelectorAll('button').forEach(button => { button.disabled = true; });

    const lang = (navigator.language || navigator.userLanguage || "en-US");
    const task_v1 = "URL information security analysis";
    const task = `Carefully infomatoion Security Analysis for URLs`;
    const need_v1 = "Shows a high level of prudence (%) in useing";
    const need = `Shows both recommended degrees of caution "(%)" when operating under zero-trust. Who provided the prompt. Check the domain owner and review the website content`;
    
    ///const url...
    const msg = await deurl({ "url": url });
    console.log("URL:", url);

    ///https://rdap.iana.org/domain/example.com
    ///https://rdap.org/domain/sobatgaming.it.com
    const domain = getDomain(msg);
    const host = getHostname(msg);
    const translate = `https://translate.google.com/translate?sl=auto&tl=zh-TW&u=${encodeURIComponent( msg )}`
    ///const rdap = `https://rdap.iana.org/domain/${encodeURIComponent( domain )}`;
    ///const rdap = `https://rdap.markmonitor.com/rdap/domain/${encodeURIComponent( domain )}`;
    ///const rdap = `https://client.rdap.org/?type=domain&follow-referral=0&object=${encodeURIComponent( host )}`;
    
    const rdap_in = `https://rdap.org/domain/${encodeURIComponent( getDomain(url) )}`;
    const refer_in = await deurl({ "url": rdap_in });  ///20260202
    console.log("RDAP:", rdap_in);
    console.log("RDAP:", refer_in);

    const rdap_out = `https://rdap.org/domain/${encodeURIComponent( getDomain(msg) )}`;
    const refer_out = await deurl({ "url": rdap_out });  ///20260202
    console.log("RDAP:", rdap_out);
    console.log("RDAP:", refer_out);

    ///const reference = JSON.stringify( await fetchRdapJson(rdap_out) );

    const prompt_v1 = `lang*==="${lang}".;unsafe*==="${url}"?;unsafe*==="${msg}"?;`;
    const prompt_v2 = `"${lang}"===mylang."${url}"===unsafe?"${msg}"===unsafe?`;
    const prompt_v3 = `lang="${lang}".\n${url}==="unsafe"?\n${msg}==="unsafe"?\n`;
    const prompt_v4 = `lang=${lang}.\n${url}==="unsafe(%)"?\n${msg}==="unsafe(%)"?\n`;

    const bynins = `This is the result of a URL redirect analysis. The analysis technology prompt is provided by "nins.cc"`;
    ///const prompt = `${bynins}!\n---\nlang=${lang}.\n${task}.\n${need}.\n---\n${url}.\n${msg}.\n---\n${bynins}!\n---\n${reference}.\n---\n${bynins}!`;
    ///const prompt = `notice=${bynins}!\n---\nlang=${lang}.\ntask=${task}.\nneed=${need}.\n---\ninput=${url}.\noutput=${msg}.\n---\nnotice=${bynins}!\n---\nrdap=${reference}.\n---\nnotice=${bynins}!`;
    const prompt = `notice=${bynins}!\n---\nlang=${lang}.\ntask=${task}.\nneed=${need}.\n---\ninput=${url}.\nrdap=${refer_in}.\n---\noutput=${msg}.\nrdap=${refer_out}.\n---\nnotice=${bynins}!`;
    const openai = `https://chatgpt.com/?prompt=` + encodeURIComponent( prompt );
    const google = `https://www.google.com/search?udm=50&aep=1&aic=0&hl=${lang}&q=` + encodeURIComponent( prompt );


    ///ğŸ¤–ğŸ§ ğŸ¯
    document.getElementById("content").innerHTML = `
    <p translate="no" style="color: red;">[${url}]</p>
    <p translate="no" style="color: red;">[${msg}]</p>
    <!--a translate="no" target="_blank" rel="noopener noreferrer" href="${translate}">[${msg}]</a!-->
    <p translate="yes">Decoding complete! You can click "AI" to analyze the URL!ğŸ¤–ğŸ¤–ğŸ¤–</p>
    <!--p translate="no">***
      <a translate="no" target="_blank" rel="noopener noreferrer" href="${openai}">ChatGPT</a>
       & 
      <a translate="no" target="_blank" rel="noopener noreferrer" href="${google}">Gemini</a>    
    ***</p!-->
    <p translate="no">ğŸ‘‰
      <a translate="no" target="_blank" rel="noopener noreferrer" href="${openai}">ChatGPT</a>
    ğŸ‘ˆ</p>
    <p translate="no">***
      <span translate="no" style="color: green;">[${"nins.cc"}]</span>
      <!--a translate="no" target="_blank" rel="noopener noreferrer" href="${"https://copyright.nins.cc/"}">[${"copyright.nins.cc"}]</a!-->
      <!--a translate="no" target="_blank" rel="noopener noreferrer" href="${"https://copyright.nins.cc/"}">RDAP</a!-->
    ***</p>
    `;

    /*
    document.getElementById("content").innerHTML += `
    <p translate="no">${msg}</p>
    <br><a translate="no" href=${google}>q=${msg}</a>
    <br><a translate="no" href=${openai}>p=${msg}</a>`;  */


    document.querySelectorAll('button').forEach(button => { button.disabled = false; });
    document.getElementById("input_msg").disabled = false;
    document.getElementById("input_qr").disabled = false;

    stopFlag = false;
    okFlag = true;
}


///document.getElementById("input_msg").addEventListener("focus", () => {  });
///document.getElementById("input_msg").addEventListener("focus", function () {
document.getElementById("input_msg").addEventListener("focus", (event) => {
    ///if (event.target.value) { return; }

    if (stopFlag || okFlag) { return; }
    document.getElementById("content").innerHTML = "Please enter the URL and send it.ğŸš€ğŸš€ğŸš€"; console.log("å·²å…·ç„¦");
    if (event.target.value) { return; }
    //document.getElementById("input_msg").value = "https://nins.cc/";  ///***
    //document.getElementById("input_msg").value = "https://google.com/";  ///***
    ///document.getElementById("input_msg").value = "https://instagram.com/";  ///***
    ///document.getElementById("input_msg").value = "http://google.forms.nins.cc/";  ///***
});

///document.getElementById("input_msg").addEventListener("blur", () => {  });
///document.getElementById("input_msg").addEventListener("blur", function () {
document.getElementById("input_msg").addEventListener("blur", (event) => {
    ///if (event.target.value && event.target.value !== "https://nins.cc/") { return; }
    
    if (stopFlag || okFlag) { return; }
    document.getElementById("content").innerHTML = "or select a QR image.ğŸ–¼ï¸ğŸ–¼ï¸ğŸ–¼ï¸"; console.log("å·²å¤±ç„¦");
    ///document.getElementById("input_msg").value = "";  ///***
});

document.getElementById("input_msg").addEventListener("keydown", function(e) {    
    if (e.key === "Enter") {
        e.preventDefault();  // é˜»æ­¢ Enter éµçš„é è¨­è¡Œç‚ºï¼ˆå³é˜²æ­¢è·³è½‰åˆ°ä¸‹ä¸€å€‹è¼¸å…¥æ¡†ï¼‰
        ///stopFlag = true;
        send();
        ///stopFlag = false;
    }
});
</script>


<script>
// å¾ªç’°æç¤º***

// æç¤ºæ–‡å­—æ¸…å–®
const placeholders = [
    ///"google.com",
    "https://google.com/",  ///***
    "https://nins.cc/",  ///***
    ///"deurl.nins.cc",
    ///"Enter the URL to decode its destination...",
];

let index = 0;
const input = document.getElementById("input_msg");

// æ¯ 1 ç§’è®Šæ›´ä¸€æ¬¡ placeholder
setInterval(() => {
    input.placeholder = placeholders[index];
    index = (index + 1) % placeholders.length; // å¾ªç’°åˆ‡æ›
}, 3000);

</script>


<!-- deQR ================================================== -->
<script src="https://copyright.nins.cc/children/0001/jsQR.min.js"></script>
<script>
document.getElementById('input_qr').addEventListener('change', function(e) {
  
    const canvas = document.getElementById('canvas_qr');
    const ctx = canvas.getContext('2d');

    const file = e.target.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function(event) {
        const img = new Image();
        img.onload = function() {
            // 1. è¨­å®šç•«å¸ƒå¤§å°èˆ‡åœ–ç‰‡ä¸€è‡´
            document.getElementById('content').innerHTML = "The image has been received, please wait...";
            canvas.width = img.width;
            canvas.height = img.height;
            
            // 2. å°‡åœ–ç‰‡ç•«åˆ°ç•«å¸ƒä¸Š
            ctx.drawImage(img, 0, 0, img.width, img.height);
            
            // 3. å–å¾—ç•«å¸ƒçš„åƒç´ è³‡æ–™
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            
            // 4. ä½¿ç”¨ jsQR è§£æ
            const code = jsQR(imageData.data, imageData.width, imageData.height);

            if (code) {
                console.log("QR Code!:", code.data);
                ///resultText.innerText = "æƒæçµæœï¼š" + code.data;
                document.getElementById('content').innerHTML = "Scan complete. QR code found!";  /// Send Query available!
                document.getElementById('input_msg').value = code.data;send();
            } else {
                console.log("QR Code?:", "");
                ///resultText.innerText = "æƒæå¤±æ•—ï¼šç„¡æ³•åœ¨åœ–ç‰‡ä¸­æ‰¾åˆ°æœ‰æ•ˆçš„ QR Codeã€‚";
                document.getElementById('content').innerHTML = "Please increase the clarity and submit only the barcode.";  /// Send Query unavailable.
                document.getElementById('input_msg').value = "***";
            }
          
            ///document.getElementById("input_msg").disabled = false;
            ///document.getElementById("input_qr").disabled = false;
        };
        img.src = event.target.result;
    };
    reader.readAsDataURL(file);
});
</script>

<!-- URL ================================================== -->
<script src="https://cdn.jsdelivr.net/npm/tldts@7.0.19/dist/index.umd.min.js"></script>
<script>

function getHostname(url) {
  if (!/^https?:\/\//i.test(url)) { return null; }
  let hostname = new URL(url).hostname;
  return hostname;
}

function getDomain(url) {
  if (!/^https?:\/\//i.test(url)) { return null; }
  const domain = tldts.getDomain(url);
  return domain;
}

function getDomain_v1(url) {
  
  url = url.replace(/^https?:\/\//, '');  // å…ˆå»æ‰ http:// æˆ– https://
  url = url.split('/')[0];  // å»æ‰å¯èƒ½çš„è·¯å¾‘æˆ–åƒæ•¸

  let domain = null;
  domain = url;
  
  ///let parts = domain.split('.');
  ///if (parts.length >= 2) { return parts.slice(-2).join('.'); }

  return domain;
}

function getDomain_vt(url) {
  try {
    if (!/^https?:\/\//i.test(url)) { return null; }

    // è§£æ URLï¼Œå– hostname
    let hostname = new URL(url).hostname; // x.a.b.com -> 'x.a.b.com'
    let parts = hostname.split('.');

    if (parts.length < 2) {
      ///return hostname; // éæ­£å¸¸åŸŸå
      return null;
    }

    let secondLast = parts[parts.length - 2]; // å€’æ•¸ç¬¬äºŒæ®µ

    if (secondLast.length < 3 && parts.length >= 3) {
      // å€’æ•¸ç¬¬äºŒæ®µå°æ–¼ 3 å­—å…ƒï¼Œå–ä¸‰æ®µ
      return parts.slice(-3).join('.');
    } else {
      // å€’æ•¸ç¬¬äºŒæ®µ â‰¥ 3 å­—å…ƒï¼Œå–å…©æ®µ
      return parts.slice(-2).join('.');
    }
  } catch (e) {
    return null; // é URL æ ¼å¼
  }
}

async function fetchRdapJson(url) {

    // æª¢æŸ¥æ˜¯å¦æ˜¯ HTTP/HTTPS
    if (!/^https?:\/\//i.test(url)) { return null; }

    try {
        // å– hostname
        const hostname = new URL(url).hostname;

        // ä½¿ç”¨ tldts.getDomain() å–å¾—ä¸»åŸŸå
        const domain = tldts.getDomain(hostname);
        const rdapEndpoint = `https://rdap.org/domain/${encodeURIComponent(domain)}`;
        
        // 3. ç™¼é€ fetch è«‹æ±‚
        const response = await fetch(rdapEndpoint, {
            method: 'GET',
            headers: {
                'Accept': 'application/rdap+json' // æŒ‡å®šæ¥æ”¶ RDAP æ¨™æº–æ ¼å¼
            }
        });

        if (!response.ok) {
            throw new Error(`RDAP ä¼ºæœå™¨å›å‚³éŒ¯èª¤: ${response.status}`);
        }

        // 4. è§£æä¸¦å›å‚³ JSON
        const jsonData = await response.json();
        return jsonData;

    } catch (error) {
        console.error("RDAP è«‹æ±‚å¤±æ•—:", error.message);
        // å¦‚æœæ˜¯ CORS éŒ¯èª¤ï¼Œé€šå¸¸ä»£è¡¨è©²åŸŸåæ‰€å±¬çš„è¨»å†Šå±€ç¦æ­¢ç€è¦½å™¨ç›´æ¥è®€å–
        return null;
    }
}
</script>


<!-- æ”¾ç½®ä½ åŸæœ‰çš„å¸ƒå±€ -->
 
    
</body>
</html>














