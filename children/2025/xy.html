<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/x-icon" sizes="48x48" href="data:image/x-icon;base64,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">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <link rel="canonical" href="https://uris.nins.cc/?">
  <title translate="no">nins/xy</title>
  
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { 
      font-family: system-ui, -apple-system, sans-serif; 
      margin: 0; background: #f8fafc; 
      display: flex; flex-direction: column; height: 100vh; overflow: hidden; 
    }
    header { 
      background: #1e293b; color: white; text-align: center; padding: 15px; 
      font-size: 22px; font-weight: 600; letter-spacing: 1px;
    }
    .toolbar { 
      background: white; padding: 10px 25px; border-bottom: 1px solid #e2e8f0;
      display: flex; justify-content: space-between; align-items: center;
    }
    #main-layout { display: flex; flex: 1; padding: 15px; gap: 15px; overflow: hidden; }
    
    /* å·¦å´ Blockly */
    #editor-side { flex: 1.2; display: flex; flex-direction: column; gap: 10px; }
    #blocklyContainer { flex: 1; border: 1px solid #cbd5e1; border-radius: 12px; background: white; overflow: hidden; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
    #blocklyDiv { height: 100%; width: 100%; }

    /* å³å´ åœ–è¡¨ */
    #display-side { flex: 1; display: flex; flex-direction: column; gap: 10px; }
    .card { background: white; border-radius: 12px; border: 1px solid #cbd5e1; padding: 20px; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); flex: 1; display: flex; flex-direction: column; }
    
    button { 
      padding: 10px 24px; border-radius: 8px; border: none; cursor: pointer; font-weight: 600; transition: all 0.2s;
    }
    .btn-primary { background: #4f46e5; color: white; }
    .btn-primary:hover { background: #4338ca; transform: translateY(-1px); }
    
    #chart-container { flex: 1; position: relative; min-height: 0; }
    

    #main-layout {
      flex: 1;
      position: relative;
      padding: 15px;
    }

    .view-content {
      width: 100%;
      height: 100%;
    }

    /* ç¢ºä¿ Blockly åœ¨éš±è—å¾Œé‡æ–°é¡¯ç¤ºæ™‚èƒ½å¡«æ»¿ */
    #blocklyContainer {
      height: 100%;
      width: 100%;
    }

    .card {
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    #chart-container {
      flex: 1;
      min-height: 500px; /* çµ¦äºˆåœ–è¡¨è¶³å¤ çš„ç©ºé–“ */
    }
  </style>
</head>
<body>

<!--header>è¦–è¦ºåŒ–å‡½æ•¸ç¹ªåœ–æ§åˆ¶å°</header-->

<div class="toolbar">
  <div>
    <button class="btn-primary" onclick="showView('editor')" style="background: orange;" >ğŸ§©</button>
    <button class="btn-primary" onclick="showView('chart')" style="background: red;" >ğŸ“Š</button>
  </div>
  <button style="background: #10b981; color: white;" onclick="drawAll()">ğŸš€</button>
</div>

<div id="main-layout">
  <div id="view-editor" class="view-content">
    <div id="blocklyContainer">
      <div id="blocklyDiv"></div>
    </div>
  </div>

  <div id="view-chart" class="view-content" style="display: none;">
    <div class="card">
      <div id="chart-container">
        <canvas id="functionChart"></canvas>
      </div>
    </div>
  </div>
</div>


<xml id="toolbox" style="display:none">
  <category name="è®Šæ•¸èˆ‡èµ·é»" colour="#4f46e5">
    <block type="start_node"></block>
    <block type="variables_get"><field name="VAR">x</field></block>
  </category>
  <category name="æ•¸å€¼" colour="#10b981">
    <block type="math_number"></block>
  </category>
  <category name="é‹ç®—" colour="#f59e0b">
    <block type="math_arithmetic"></block>
    <block type="math_single"></block>
  </category>
</xml>


<script>
  function showView(viewName) {
  // 1. éš±è—æ‰€æœ‰è¦–åœ–
  document.getElementById('view-editor').style.display = 'none';
  document.getElementById('view-chart').style.display = 'none';

  // 2. é¡¯ç¤ºæŒ‡å®šè¦–åœ–
  if (viewName === 'editor') {
    document.getElementById('view-editor').style.display = 'block';
    // å¿…é ˆå‘ŠçŸ¥ Blockly å®¹å™¨å¤§å°å¯èƒ½è®Šå‹•
    setTimeout(() => {
      Blockly.svgResize(workspace);
    }, 10);
  } else if (viewName === 'chart') {
    document.getElementById('view-chart').style.display = 'block';
    // é¡¯ç¤ºåœ–è¡¨æ™‚è‡ªå‹•ç¹ªè£½æœ€æ–°æ•¸æ“š
    drawAll();
  }
}


  // 1. Blockly å€å¡Šå®šç¾©
  Blockly.Blocks['start_node'] = {
    init: function() {
      this.appendDummyInput().appendField(new Blockly.FieldTextInput("f"), "NAME").appendField("(x)");  ///å‡½æ•¸åç¨±
      this.appendValueInput("CONTENT").setCheck("Number").appendField("y = "); ///å®šç¾©ç‚º
      this.setColour(260);
      this.setTooltip("åªæœ‰æ¥ä¸Šå…¬å¼çš„èµ·é»æœƒè¢«ç¹ªè£½å‡ºä¾†");
    }
  };

  const workspace = Blockly.inject('blocklyDiv', {
    toolbox: document.getElementById('toolbox'),
    grid: { spacing: 20, length: 3, colour: '#f1f5f9', snap: true },
    trashcan: true, renderer: 'zelos'
  });

  // 2. éè¿´è§£æå™¨
  function evaluate(block, x) {
    if (!block) return null;
    const type = block.type;
    
    if (type === 'variables_get') return x;
    if (type === 'math_number') return Number(block.getFieldValue('NUM'));
    
    if (type === 'math_arithmetic') {
      const a = evaluate(block.getInputTargetBlock('A'), x);
      const b = evaluate(block.getInputTargetBlock('B'), x);
      const op = block.getFieldValue('OP');
      if (a === null || b === null) return null;
      if (op === 'ADD') return a + b;
      if (op === 'MINUS') return a - b;
      if (op === 'MULTIPLY') return a * b;
      if (op === 'DIVIDE') return b === 0 ? 0 : a / b;
      if (op === 'POWER') return Math.pow(a, b);
    }
    
    if (type === 'math_single') {
      const val = evaluate(block.getInputTargetBlock('NUM'), x);
      const op = block.getFieldValue('OP');
      if (val === null) return null;
      switch(op) {
        case 'ROOT': return Math.sqrt(val);
        case 'ABS': return Math.abs(val);
        case 'SIN': return Math.sin(val);
        case 'COS': return Math.cos(val);
        case 'TAN': return Math.tan(val);
        default: return val;
      }
    }
    return null;
  }

  // 3. åœ–è¡¨é‚è¼¯
  let chart = null;
  function drawAll() {
    const startBlocks = workspace.getBlocksByType('start_node');
    const xValues = [];
    const minX = -1000;  ///-10
    const maxX = 1000;  ///10
    const step = 1; // å»ºè­°æ­¥é•·è¨­ç‚º 10ï¼Œè‹¥éœ€è¦æ›´å¹³æ»‘å¯è¨­ç‚º 5 æˆ– 1
    for (let i = minX; i <= maxX; i += step) xValues.push(i);

    const datasets = [];
    const colorPalette = ['#4f46e5', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'];

    startBlocks.forEach((startBlock, index) => {
      const target = startBlock.getInputTargetBlock('CONTENT');
      
      // é—œéµï¼šå¦‚æœæ²’æ¥æ±è¥¿ï¼Œå°±å®Œå…¨å¿½ç•¥é€™å€‹èµ·é»
      if (!target) return;

      const funcName = startBlock.getFieldValue('NAME');
      const yValues = xValues.map(x => evaluate(target, x));

      datasets.push({
        label: `${funcName}(x)`,
        data: yValues,
        borderColor: colorPalette[index % colorPalette.length],
        borderWidth: 3,
        pointRadius: 0, // ä¸é¡¯ç¤ºé»ï¼Œåªé¡¯ç¤ºå¹³æ»‘ç·šæ¢
        tension: 0.3,
        fill: false
      });
    });

    const ctx = document.getElementById('functionChart').getContext('2d');
    if (chart) chart.destroy();
    /*
    chart = new Chart(ctx, {
      type: 'line',
      data: { labels: xValues, datasets: datasets },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          x: { title: { display: true, text: 'x' }, grid: { color: '#f1f5f9' } },
          y: { title: { display: true, text: 'y' }, grid: { color: '#f1f5f9' } }
        },
        plugins: {
          legend: { position: 'top', labels: { usePointStyle: true } }
        }
      }
    });  */
    chart = new Chart(ctx, {
      type: 'line',
      data: { labels: xValues, datasets: datasets },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        // --- æ–°å¢èˆ‡ä¿®æ”¹çš„éƒ¨åˆ† ---
        interaction: {
          intersect: false, // æ»‘é¼ ä¸éœ€è¦ç¢°åˆ°é»ï¼Œåªè¦åœ¨è©² x åº§æ¨™é™„è¿‘å°±æœƒè§¸ç™¼
          mode: 'index',    // åŒæ™‚é¡¯ç¤ºè©² x åº§æ¨™ä¸‹æ‰€æœ‰å‡½æ•¸çš„ y å€¼
        },
        plugins: {
          legend: { position: 'top', labels: { usePointStyle: true } },
          tooltip: {
            enabled: true,
            backgroundColor: 'rgba(30, 41, 59, 0.8)', // æ·±è‰²èƒŒæ™¯è³ªæ„Ÿè¼ƒå¥½
            titleColor: '#fff',
            bodyColor: '#fff',
            callbacks: {
              // åœ¨æ•¸å€¼å‰é¢åŠ ä¸Š y = è®“å¯è®€æ€§æ›´å¥½
              label: function(context) {
                let label = context.dataset.label || '';
                if (label) {
                  label += ': ';
                }
                if (context.parsed.y !== null) {
                  label += context.parsed.y.toFixed(2); // é™åˆ¶å°æ•¸é»å…©ä½
                }
                return label;
              }
            }
          }
        },
        // -----------------------
        scales: {
          x: { title: { display: true, text: 'x' }, grid: { color: '#f1f5f9' } },
          y: { title: { display: true, text: 'y' }, grid: { color: '#f1f5f9' } }
        }
      }
    });


  }

  // åˆå§‹åŒ–ä¸€å€‹é è¨­å‡½æ•¸ï¼šf(x) = x * x (æ‹‹ç‰©ç·š)
  function init() {
    // 1. å¼·åˆ¶å»ºç«‹æˆ–å–å¾—åç‚º 'x' çš„è®Šæ•¸ç‰©ä»¶
    const variableX = workspace.getVariable('x') || workspace.createVariable('x');

    const start = workspace.newBlock('start_node');
    start.setFieldValue('f', 'NAME');
    start.initSvg(); start.render(); start.moveBy(50, 50);

    const mul = workspace.newBlock('math_arithmetic');
    mul.setFieldValue('MULTIPLY', 'OP');
    mul.initSvg(); mul.render();
    
    // 2. å»ºç«‹è®Šæ•¸å€å¡Šä¸¦ä½¿ç”¨è®Šæ•¸ ID è¨­å®š
    const x1 = workspace.newBlock('variables_get');
    x1.setFieldValue(variableX.getId(), 'VAR'); // é—œéµï¼šä½¿ç”¨ ID
    
    const x2 = workspace.newBlock('variables_get');
    x2.setFieldValue(variableX.getId(), 'VAR'); // é—œéµï¼šä½¿ç”¨ ID

    x1.initSvg(); x1.render();
    x2.initSvg(); x2.render();

    // 3. é€£æ¥å€å¡Š
    mul.getInput('A').connection.connect(x1.outputConnection);
    mul.getInput('B').connection.connect(x2.outputConnection);
    start.getInput('CONTENT').connection.connect(mul.outputConnection);
    
    ///drawAll();
    ///showView('editor');
    showView('chart');
  }

  window.addEventListener('load', () => {
    init();
    window.addEventListener('resize', () => Blockly.svgResize(workspace));
  });
</script>

</body>
</html>