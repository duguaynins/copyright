<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>UTC 與時差顯示</title>
<style>
  
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border: 0; 
  outline: 0;
}

body { 
  font-family: Arial, sans-serif;
}

.column { flex-direction: column; /* 垂直 */ }
.row { flex-direction: row; /* 水平 */ }
.box {
  display: flex;
  justify-content: center;
  align-items: center;
}

.up {
  align-items: flex-start;
}
.down {
  align-items: flex-end;
}
.left {
  justify-content: flex-start;
}
.right {
  justify-content: flex-end;
}

.app { width: 100vw; height: 100vh; }
.fill { width: 100%; height: 100%; }
</style>
</head>

<body>

<div class="column app box">
<div class="box">
  <strong><span id="utc-time"></span></strong>
</div>
<div class="box">
  <h1><span id="utc-offset"></span></h1>
</div>
<div>

<script>
function updateTime() {
  const now = new Date();

  // 取得 UTC 時間
  const utcTime = new Date();  /// + now.getTimezoneOffset() * 60000
  ///const utcTime = new Date(now.getTime());  /// + now.getTimezoneOffset() * 60000
  ///document.getElementById("utc-time").textContent = utcTime.toISOString()  ///.replace('T', 'T_')  ///.split('.')[0];

  // 取得本地時區相對 UTC 的時差（小時）
  const offsetMinutes = -now.getTimezoneOffset(); // 注意符號，getTimezoneOffset 回傳與 UTC 的差值（分鐘），UTC-本地）
  const offsetHours = offsetMinutes / 60;
  const sign = offsetHours >= 0 ? '+' : '-';
  ///document.getElementById("utc-offset").textContent = `${sign}${Math.abs(offsetHours)} 小時`;
  const hours = String(Math.abs(Math.round(offsetHours))).padStart(2, '0'); // 兩位數
  const minutes = String(Math.abs(offsetMinutes)%60).padStart(2,'0');
  console.log(`UTC 偏移: ${sign}${hours}:${minutes}`);

  const times = utcTime.toISOString().replace('T', 'T') + "" + `${sign}${hours}:${minutes}`;
  document.getElementById("utc-offset").textContent = `${sign}${hours}:${minutes}`;
  document.getElementById("utc-time").textContent = utcTime.toISOString();  ///.replace('T', 'T') + "" + `${sign}${hours}:${minutes}`;  ///.split('.')[0];
  setInterval(updateTime, 50);  // 每秒更新一次

  return times
}

updateTime();

</script>

</body>
</html>
